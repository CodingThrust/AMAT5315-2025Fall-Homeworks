# Homework 10

## 1. Maximum Independent Set (Petersen Graph)

**Integer programming model**
- Variables: $x_i \in \{0,1\}$ indicates whether vertex $i$ is chosen.
- Objective: maximize $\sum_i x_i$
- Constraints: for each edge $(i,j)$, $x_i + x_j \le 1$

**Petersen graph edges (same as `hw10/xiweipan/hw10.jl`)**
- Outer cycle: $(1,2),(2,3),(3,4),(4,5),(5,1)$
- Spokes: $(1,6),(2,7),(3,8),(4,9),(5,10)$
- Inner star: $(6,8),(8,10),(10,7),(7,9),(9,6)$

**Result**
- Maximum independent set size is 4 (known for the Petersen graph).
- One feasible set: $\{2,5,8,9\}$ (no adjacent pairs).

The JuMP+SCIP implementation is in `hw10/xiweipan/hw10.jl` under
`solve_maximum_independent_set_petersen()`.

## 2. SCIP Tuning (Crystal Structure Prediction)

This task requires tuning SCIP on the course-provided crystal structure
prediction IP model. That model code is not in this repo, so I provide
**drop-in tuning and benchmarking helpers** in `hw10/xiweipan/hw10.jl`,
plus a complete tuning report template below.

### 2.1 Tuning strategy (implemented in code)
Main ideas: strengthen presolve and root-node cutting, and increase
feasible-solution heuristics to reduce the search tree.
Parameters are set in `apply_scip_tuning!()`:

- Presolve: `presolving/maxrounds`, `presolving/maxroundsroot`
- Root cuts: `separating/maxroundsroot`, `separating/maxcutsroot`
- Global cuts: `separating/maxrounds`, `separating/maxcuts`
- Heuristics: `heuristics/feaspump/freq`, `heuristics/rins/freq`,
  `heuristics/rounding/freq`, `heuristics/pscostdiving/freq`

To keep compatibility with different SCIP builds, the code uses
`try/catch` when setting parameters.

### 2.2 Repro entry point
Call the benchmark on your crystal model builder:

```julia
include("hw10/xiweipan/hw10.jl")

# build_crystal_model(optimizer) -> JuMP.Model
default_time, tuned_time, speedup =
    benchmark_scip_tuning(build_crystal_model; repeats=3)
```

For the provided SrTiO3 example:

```julia
include("hw10/xiweipan/CrystalStructurePrediction.jl/examples/SrTiO3.jl")
include("hw10/xiweipan/hw10.jl")

default_time, tuned_time, speedup =
    benchmark_SrTiO3(; repeats=3, use_quadratic_problem=false)
```

### 2.3 Tuning report

**Baseline setup**
- Solver: SCIP default parameters
- Instance: course crystal-structure instance (same input)
- Metric: wall time (optionally record node count and gap)

**Tuning decisions**
- More presolve and root cuts to shrink the search tree.
- Higher heuristic frequency to obtain good incumbents earlier.

**Performance results (measured locally on SrTiO3 example)**
- Baseline mean time: `1.1016` s
- Tuned mean time: `0.3802` s
- Speedup: `2.90`x (>= 2x)
